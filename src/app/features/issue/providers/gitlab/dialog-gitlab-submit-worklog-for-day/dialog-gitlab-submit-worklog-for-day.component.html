<h1 mat-dialog-title>
  <mat-icon
    class="dialog-header-icon"
    svgIcon="gitlab"
  ></mat-icon>
  <!--  <span>{{T.F.GITLAB.DIALOG_INITIAL.TITLE|translate}}</span>-->
  <span>Submit Time Spent on Issues to GitLab</span>
</h1>

<h3>For project: <strong>{{(project$|async)?.title}}</strong></h3>
<mat-dialog-content>
  <div class="table-wrapper">
    <table
      [dataSource]="tmpTasks$|async"
      class="summary-table"
      mat-table
    >
      <ng-container matColumnDef="title">
        <th
          *matHeaderCellDef
          mat-header-cell
        >
          <!--            {{T.F.TASK.SUMMARY_TABLE.TASK|translate}}-->
          Title
        </th>
        <td
          *matCellDef="let tmpTask"
          mat-cell
        >
          <div class="task-title">{{tmpTask.title}}</div>
        </td>
      </ng-container>

      <ng-container matColumnDef="timeTrackedTodayRemote">
        <th
          *matHeaderCellDef
          mat-header-cell
        >
          <!--            {{T.F.TASK.SUMMARY_TABLE.SPENT_TOTAL|translate}}-->
          Already Tracked
        </th>
        <td
          *matCellDef="let tmpTask"
          mat-cell
        >
          {{tmpTask.timeTrackedAlready|msToClockString}}
        </td>
      </ng-container>

      <ng-container matColumnDef="timeToLogToday">
        <th
          *matHeaderCellDef
          mat-header-cell
        >
          <!--            {{T.F.TASK.SUMMARY_TABLE.SPENT_TODAY|translate}}-->
          To be submitted
        </th>
        <td
          *matCellDef="let tmpTask"
          mat-cell
        >
          <inline-input
            (changed)="updateTimeSpentTodayForTask(tmpTask, $event)"
            [displayValue]="tmpTask.timeSpentToday|msToClockString"
            [type]="'duration'"
            [value]="tmpTask.timeSpentToday"
          >
          </inline-input>
        </td>
      </ng-container>

      <tr
        *matHeaderRowDef="['title', 'timeTrackedTodayRemote','timeToLogToday']"
        mat-header-row
      ></tr>
      <tr
        *matRowDef="let row; columns: ['title','timeTrackedTodayRemote','timeToLogToday']"
        mat-row
      ></tr>
    </table>
  </div>

  <div class="total-msg">
    You will submit <strong>{{totalTimeToSubmit$|msToString}}</strong> work time for today
    in total to <strong>{{(tmpTasksToTrack$|async)?.length}}</strong> different issues.
  </div>
</mat-dialog-content>

<mat-dialog-actions align="end">
  <button
    (click)="close()"
    color="primary"
    mat-button
    type="button"
  >
    {{T.G.CANCEL|translate}}
  </button>

  <button
    color="primary"
    mat-stroked-button
    type="button"
    (click)="submit()"
  >
    <mat-icon
      class="dialog-header-icon"
      svgIcon="gitlab"
    ></mat-icon>
    Submit
    <!--      {{T.G.SUBMIT|translate}}-->
  </button>
</mat-dialog-actions>
